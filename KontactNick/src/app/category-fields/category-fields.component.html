<!-- category-fields.component.html -->
<mat-card class="fields-card">
  <h2 class="fields-title">üìã Fields for Category: {{ categoryName }}</h2>

  <!-- ‚úÖ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è -->
  <mat-card class="instruction-card">
    <p> ‚ÑπÔ∏è <strong>–ó–¥–µ—Å—å –≤—ã —É–ø—Ä–∞–≤–ª—è–µ—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –≤–∞—à–∏—Ö –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤.</strong><br>
      <strong>‚ùó–í–∞–∂–Ω–æ:</strong> –£ –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω—Ç–∞–∫—Ç–∞ —É–∂–µ –µ—Å—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–æ–ª—è: <strong>–∏–º—è, email, —Ç–µ–ª–µ—Ñ–æ–Ω</strong>.<br>
      –î–æ–±–∞–≤–ª—è–π—Ç–µ —Ç–æ–ª—å–∫–æ —Ç–µ –ø–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã –∏–º–µ–Ω–Ω–æ –¥–ª—è —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.</p>
  </mat-card>

  <!-- ‚úÖ –ö–Ω–æ–ø–∫–∏ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—è –∏ –∫–æ–Ω—Ç–∞–∫—Ç–∞ -->
  <div style="margin: 20px 0; display: flex; gap: 10px;">
    <button class="add-field-btn" (click)="addField()">‚ûï Add Field</button>
  </div>

  <mat-card-content>
    <table class="fields-table" *ngIf="fields.length; else noFields">
      <thead>
      <tr>
        <th>
          Field Name
          <button class="sort-btn" (click)="toggleSortOrder()">
            üîÑ
          </button>
        </th>
        <th>Field Type</th>
        <th>Field Value</th>
        <th>Actions</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let field of sortedFields">
        <td>{{ field.name }}</td>
        <td>{{ field.fieldType }}</td>
        <td>{{ field.value }}</td>
        <td>
          <button class="field-action-btn" (click)="editField(field, categoryId)">‚úèÔ∏è Edit</button>
          <button class="field-action-btn" (click)="deleteField(field.id)">üóëÔ∏è Delete</button>
        </td>
      </tr>
      </tbody>
    </table>

    <ng-template #noFields>
      <em>No fields found for this category.</em>
    </ng-template>
  </mat-card-content>

  <!-- ‚úÖ –ö–Ω–æ–ø–∫–∏ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–∞–∫—Ç–∞ -->
  <div style="margin: 20px 0; display: flex; gap: 10px;">
    <button class="add-contact-btn" (click)="addContact(categoryId)">‚ûï Add Contact</button>
  </div>

  <!-- ‚úÖ –ö–Ω–æ–ø–∫–∞ –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º -->
  <div style="display: flex; justify-content: center; margin-top: 10px; margin-bottom: 20px;">
    <button mat-stroked-button color="primary" (click)="goBack()">üîô Back to Categories</button>
  </div>
</mat-card>
