<!-- category-fields.component.html -->

<mat-card class="fields-card">
  <h2 class="fields-title">📋 Fields for Category: {{ categoryName }}</h2>

  <!-- ✅ Кнопки для добавления поля и контакта -->
  <div style="margin: 20px 0; display: flex; gap: 10px;">
    <button class="add-field-btn" (click)="addField()">➕ Add Field</button>
  </div>

  <mat-card-content>
    <table class="fields-table" *ngIf="fields.length; else noFields">
      <thead>
      <tr>
        <th>Field Name</th>
        <th>Field Type</th>
        <th>Field Value</th>
        <th>Actions</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let field of fields">
        <td>{{ field.name }}</td>
        <td>{{ field.fieldType }}</td>
        <td>{{ field.value }}</td>
        <td>
          <button class="field-action-btn" (click)="editField(field, categoryId)">✏️ Edit</button>
          <button class="field-action-btn" (click)="deleteField(field.id)">🗑️ Delete</button>
        </td>
      </tr>
      </tbody>
    </table>

    <ng-template #noFields>
      <em>No fields found for this category.</em>
    </ng-template>
  </mat-card-content>

  <!-- ✅ Кнопки для добавления поля и контакта -->
  <div style="margin: 20px 0; display: flex; gap: 10px;">
    <button class="add-contact-btn" (click)="addContact(categoryId)">➕ Add Contact</button>
  </div>

  <!-- ✅ Кнопка для возврата к категориям -->
  <div style="display: flex; justify-content: center; margin-top: 10px; margin-bottom: 20px;">
    <button mat-stroked-button color="primary" (click)="goBack()">🔙 Back to Categories</button>
  </div>
</mat-card>
