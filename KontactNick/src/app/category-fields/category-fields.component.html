<!-- category-fields.component.html -->

<mat-card class="fields-card">
  <h2 class="fields-title">ğŸ“‹ Fields for Category: {{ categoryName }}</h2>

  <!-- âœ… ĞšĞ½Ğ¾Ğ¿ĞºĞ¸ Ğ´Ğ»Ñ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ¿Ğ¾Ğ»Ñ Ğ¸ ĞºĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ğ° -->
  <div style="margin: 20px 0; display: flex; gap: 10px;">
    <button class="add-field-btn" (click)="addField()">â• Add Field</button>
  </div>

  <mat-card-content>
    <table class="fields-table" *ngIf="fields.length; else noFields">
      <thead>
      <tr>
        <th>Field Name</th>
        <th>Field Type</th>
        <th>Field Value</th>
        <th>Actions</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let field of fields">
        <td>{{ field.name }}</td>
        <td>{{ field.fieldType }}</td>
        <td>{{ field.value }}</td>
        <td>
          <button class="field-action-btn" (click)="editField(field, categoryId)">âœï¸ Edit</button>
          <button class="field-action-btn" (click)="deleteField(field.id)">ğŸ—‘ï¸ Delete</button>
        </td>
      </tr>
      </tbody>
    </table>

    <ng-template #noFields>
      <em>No fields found for this category.</em>
    </ng-template>
  </mat-card-content>

  <!-- âœ… ĞšĞ½Ğ¾Ğ¿ĞºĞ¸ Ğ´Ğ»Ñ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ¿Ğ¾Ğ»Ñ Ğ¸ ĞºĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ğ° -->
  <div style="margin: 20px 0; display: flex; gap: 10px;">
    <button class="add-contact-btn" (click)="addContact(categoryId)">â• Add Contact</button>
  </div>

  <!-- âœ… ĞšĞ½Ğ¾Ğ¿ĞºĞ° Ğ´Ğ»Ñ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚Ğ° Ğº ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸ÑĞ¼ -->
  <div style="display: flex; justify-content: center; margin-top: 10px; margin-bottom: 20px;">
    <button mat-stroked-button color="primary" (click)="goBack()">ğŸ”™ Back to Categories</button>
  </div>
</mat-card>
